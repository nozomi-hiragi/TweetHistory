# Tag モデル仕様

## 概要
ツイートに付与するタグ情報を管理するモデルです。TweetHistoryでは、タグベースの分類システムを採用しており、ツイートとタグの多対多の関係を管理します。

## フィールド
| フィールド名 | 型 | 必須 | デフォルト | 説明 |
| --- | --- | --- | --- | --- |
| name | String | Yes | - | タグ名（一意識別子） |
| tweetIds | Set&lt;String&gt; | No | `{}` | このタグが付いたツイートIDの集合 |

## 特殊タグ

### "bin"タグ
- **用途**：ソフトデリート（論理削除）機能の実装
- **動作**：ツイートに"bin"タグが付与されると削除状態として扱われる
- **復元**："bin"タグを削除することで復元可能
- **表示**：通常のツイート一覧では非表示、ゴミ箱画面でのみ表示

## データ操作

### タグ付け・解除
- **一括タグ付け**：複数のツイートに同時にタグを付与
- **タグ解除**：特定のツイートからタグを削除
- **タグ削除**：タグ自体を削除（関連する全ツイートからタグが削除される）

### 統計情報
- **ツイート数カウント**：`tweetIds.length`でそのタグが付いたツイート数を取得
- **使用頻度**：アプリケーション内でタグの使用頻度を表示

## JSON シリアライゼーション
Freezed + JSON Serializableによる自動生成：
- `Tag.fromJson(Map<String, dynamic> json)`：JSONからオブジェクトへの変換
- `toJson()`：オブジェクトからJSONへの変換

## 関連情報
- **Repository**：`TweetRepository`でタグ操作を管理
- **Controller**：`TagSelectController`でタグ選択状態を管理
- **実装ファイル**：`lib/models/tag.dart`
- **関連UI**：`TagChip`、`TagStateChip`、`TagSelectDialog`など

